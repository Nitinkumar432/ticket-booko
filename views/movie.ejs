<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add New Movie</title>
    <link rel="stylesheet" href="css/movie.css">
    <script src="javascripts/movie.js"></script>
</head>
<body>
    <header>
        <div class="logo">TicketBooking</div>
        <nav>
            <ul>
                <li><a href="#">Book Tickets</a></li>
                <li><a href="#">EXplore Movies</a></li>
                <li><a href="#">Help</a></li>
                <li><a href="#">About Us</a></li>
                <%if(user.userType=='admin'){%>
                    <li class="addmovie"><a href="/post-movie">Add Movies</a></li>
                    <%}%>
            </ul>
        </nav>
      
        
        <div class="search-bar">
            <input type="text" placeholder="Search events, destinations...">
        </div>
        <nav>
     
        <div class="dropdown">
            <button class="dropbtn">Profile &#9662;</button>
            <div class="dropdown-content">
                <a href="#">Settings</a>
                <a href="#">Recent Movies</a>
                <a href="#">Refund</a>
            </div>
        </div>
    </nav>
    </header>
    <!-- Form Container -->
    <div class="form-container">
        <h1>Add New Movie</h1>
        <!-- Update the form to POST to /post-movie -->
        <form id="movieForm" action="/post-movie" method="POST">
            <!-- Movie Title -->
            <div class="form-group">
                <label for="title">Movie Title:</label>
                <input type="text" id="title" name="title" placeholder="Enter movie title..." required>
            </div>
            <!-- Description -->
            <div class="form-group">
                <label for="description">Description:</label>
                <textarea id="description" name="description" placeholder="Enter a brief description..." required></textarea>
            </div>
            <!-- Director -->
            <div class="form-group">
                <label for="director">Director:</label>
                <input type="text" id="director" name="director" placeholder="Enter director's name..." required>
            </div>
            <!-- Cast -->
            <div class="form-group">
                <label for="cast">Cast:</label>
                <input type="text" id="cast" name="cast" placeholder="Enter cast members, separated by commas..." required>
            </div>
            <!-- Genre -->
            <div class="form-group">
                <label for="genre">Genre:</label>
                <select id="genre" name="genre" multiple required>
                    <option value="Action">Action</option>
                    <option value="Comedy">Comedy</option>
                    <option value="Drama">Drama</option>
                    <option value="Horror">Horror</option>
                    <option value="Sci-Fi">Sci-Fi</option>
                    <option value="Romance">Romance</option>
                    <option value="Thriller">Thriller</option>
                    <option value="Animation">Animation</option>
                    <option value="Documentary">Documentary</option>
                    <option value="Fantasy">Fantasy</option>
                    <option value="Adventure">Adventure</option>
                </select>
            </div>
            <!-- Release Date -->
            <div class="form-group">
                <label for="releaseDate">Release Date:</label>
                <input type="date" id="releaseDate" name="releaseDate" required>
            </div>
            <!-- Runtime -->
            <div class="form-group">
                <label for="runtime">Runtime (minutes):</label>
                <input type="number" id="runtime" name="runtime" placeholder="Enter runtime in minutes..." required>
            </div>
            <!-- Language -->
            <div class="form-group">
                <label for="language">Language:</label>
                <input type="text" id="language" name="language" placeholder="Enter language..." required>
            </div>
            <!-- Country -->
            <div class="form-group">
                <label for="country">Country:</label>
                <input type="text" id="country" name="country" placeholder="Enter country..." required>
            </div>
            <!-- Rating -->
            <div class="form-group">
                <label for="rating">Rating:</label>
                <input type="number" id="rating" name="rating" min="0" max="10" step="0.1" placeholder="Enter rating (0-10)..." required>
            </div>
            <!-- Tags -->
            <div class="form-group">
                <label for="tags">Tags:</label>
                <input type="text" id="tags" name="tags" placeholder="Enter tags, separated by commas...">
            </div>
            <!-- Poster URL -->
            <div class="form-group">
                <label for="posterUrl">Poster URL:</label>
                <input type="url" id="posterUrl" name="posterUrl" placeholder="Enter poster URL...">
            </div>
            <!-- Trailer URL -->
            <div class="form-group">
                <label for="trailerUrl">Trailer URL:</label>
                <input type="url" id="trailerUrl" name="trailerUrl" placeholder="Enter trailer URL...">
            </div>
            <!-- Hidden Field for Posted By -->
            <input type="hidden" id="posted_by" name="posted_by" value="<%= user.email %>">
            <!-- Form Navigation and Submit -->
            <div class="form-group form-buttons">
                <button type="button" class="scroll-btn" onclick="scrollUp()">▲</button>
                <button type="submit" class="submit-btn">Save Movie</button>
                <button type="button" class="scroll-btn" onclick="scrollDown()">▼</button>
            </div>
        </form>
    </div>

    <!-- Success Pop-up -->
    <div id="successPopup" class="popup hidden">
        <div class="popup-content">
            <span class="close-btn" onclick="closePopup()">&times;</span>
            <p>Movie added successfully! Now you can check it on the home page.</p>
        </div>
    </div>
   
    <script src="scripts.js"></script>

</body>
<footer class="footer">
    <p>&copy; 2024 Your Website. All Rights Reserved.</p>
</footer>
</html>
